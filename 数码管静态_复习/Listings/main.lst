C51 COMPILER V9.60.7.0   MAIN                                                              02/27/2024 23:00:05 PAGE 1   


C51 COMPILER V9.60.7.0, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\Objects\main.obj
COMPILER INVOKED BY: E:\Keil_v5\C51\BIN\C51.EXE main.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listings\main
                    -.lst) TABS(2) OBJECT(.\Objects\main.obj)

line level    source

   1          #include <reg52.h>
   2          #include <intrins.h>
   3          #define uint unsigned int
   4          #define uchar unsigned char
   5          
   6          uint wenumber;
   7          sbit DU = P2 ^ 6;
   8          sbit WE = P2 ^ 7;
   9          
  10          void delay(uint z)
  11          {
  12   1          uint x, y;
  13   1          for (x = z; x > 0; x--)
  14   1              for (y = 144; y > 0; y--)
  15   1                  ;
  16   1      }
  17          
  18          void main()
  19          {
  20   1      
  21   1          while (1)
  22   1          {
  23   2              wenumber = 0xfe; // 位选初始变量
  24   2      
  25   2              /*----------------------------*/
  26   2              WE = 1;
  27   2              P0 = 0xff;
  28   2              WE = 0;
  29   2              // 不选中所有数码管，0xff负责清除之前可能存在的P0其他状态。
  30   2              /*----------------------------*/
  31   2              DU = 1;
  32   2              P0 = 0x6d;
  33   2              DU = 0;
  34   2              // 在段选中输入数字”5“的字形码。
  35   2              /*----------------------------*/
  36   2              WE = 1;
  37   2              P0 = wenumber;
  38   2              WE = 0;
  39   2              // 选中第一个数码管。
  40   2              delay(1);
  41   2              /*----------------------------*/
  42   2              // 延迟1毫秒，第一个数码管的显示流程结束。
  43   2      
  44   2              wenumber = _crol_(wenumber, 1); // 位选变量调整，预选中第二个数码管。
  45   2      
  46   2              /*----------------------------*/
  47   2              WE = 1;
  48   2              P0 = 0xff;
  49   2              WE = 0;
  50   2              // 不选中所有数码管，0xff负责清除之前可能存在的P0其他状态。
  51   2              /*----------------------------*/
  52   2              DU = 1;
  53   2              P0 = 0x5b;
  54   2              DU = 0;
C51 COMPILER V9.60.7.0   MAIN                                                              02/27/2024 23:00:05 PAGE 2   

  55   2              // 在段选中输入数字”2“的字形码。
  56   2              /*----------------------------*/
  57   2              WE = 1;
  58   2              P0 = wenumber;
  59   2              WE = 0;
  60   2              // 选中第二个数码管。
  61   2              /*----------------------------*/
  62   2              delay(1);
  63   2              /*----------------------------*/
  64   2              // 延迟1毫秒，第二个数码管的显示流程结束。
  65   2      
  66   2              wenumber = _crol_(wenumber, 1); // 位选变量调整，预选中第三个数码管。
  67   2      
  68   2              /*----------------------------*/
  69   2              WE = 1;
  70   2              P0 = 0xff;
  71   2              WE = 0;
  72   2              // 不选中所有数码管，0xff负责清除之前可能存在的P0其他状态。
  73   2              /*----------------------------*/
  74   2              DU = 1;
  75   2              P0 = 0x3f;
  76   2              DU = 0;
  77   2              // 在段选中输入数字”0“的字形码。
  78   2              /*----------------------------*/
  79   2              WE = 1;
  80   2              P0 = wenumber;
  81   2              WE = 0;
  82   2              // 选中第三个数码管。
  83   2              /*----------------------------*/
  84   2              delay(1);
  85   2              /*----------------------------*/
  86   2              // 延迟1毫秒，第三个数码管的显示流程结束。
  87   2      
  88   2              wenumber = _crol_(wenumber, 1); // 位选变量调整，预选中第四个数码管。
  89   2      
  90   2              /*----------------------------*/
  91   2              WE = 1;
  92   2              P0 = 0xff;
  93   2              WE = 0;
  94   2              // 不选中所有数码管，0xff负责清除之前可能存在的P0其他状态。
  95   2              /*----------------------------*/
  96   2              DU = 1;
  97   2              P0 = 0x06;
  98   2              DU = 0;
  99   2              // 在段选中输入数字”1“的字形码。
 100   2              /*----------------------------*/
 101   2              WE = 1;
 102   2              P0 = wenumber;
 103   2              WE = 0;
 104   2              // 选中第四个数码管。
 105   2              /*----------------------------*/
 106   2              delay(1);
 107   2              // 延迟1毫秒，第四个数码管的显示流程结束。
 108   2      
 109   2              wenumber = _crol_(wenumber, 1); // 位选变量调整，预选中第五个数码管。
 110   2      
 111   2              /*----------------------------*/
 112   2              WE = 1;
 113   2              P0 = 0xff;
 114   2              WE = 0;
 115   2              // 不选中所有数码管，0xff负责清除之前可能存在的P0其他状态。
 116   2              /*----------------------------*/
C51 COMPILER V9.60.7.0   MAIN                                                              02/27/2024 23:00:05 PAGE 3   

 117   2              DU = 1;
 118   2              P0 = 0x4f;
 119   2              DU = 0;
 120   2              // 在段选中输入数字”3“的字形码。
 121   2              /*----------------------------*/
 122   2              WE = 1;
 123   2              P0 = wenumber;
 124   2              WE = 0;
 125   2              // 选中第五个数码管。
 126   2              /*----------------------------*/
 127   2              delay(1);
 128   2              // 延迟1毫秒，第五个数码管的显示流程结束。
 129   2      
 130   2              wenumber = _crol_(wenumber, 1); // 位选变量调整，预选中第六个数码管。
 131   2      
 132   2              /*----------------------------*/
 133   2              WE = 1;
 134   2              P0 = 0xff;
 135   2              WE = 0;
 136   2              // 不选中所有数码管，0xff负责清除之前可能存在的P0其他状态。
 137   2              /*----------------------------*/
 138   2              DU = 1;
 139   2              P0 = 0x06;
 140   2              DU = 0;
 141   2              // 在段选中输入数字”1“的字形码。
 142   2              /*----------------------------*/
 143   2              WE = 1;
 144   2              P0 = wenumber;
 145   2              WE = 0;
 146   2              // 选中第六个数码管。
 147   2              /*----------------------------*/
 148   2              delay(1);
 149   2              // 延迟1毫秒，第六个数码管的显示流程结束。
 150   2      
 151   2              wenumber = _crol_(wenumber, 1); // 位选变量调整，预选中第七个数码管。
 152   2      
 153   2              /*----------------------------*/
 154   2              WE = 1;
 155   2              P0 = 0xff;
 156   2              WE = 0;
 157   2              // 不选中所有数码管，0xff负责清除之前可能存在的P0其他状态。
 158   2              /*----------------------------*/
 159   2              DU = 1;
 160   2              P0 = 0x66;
 161   2              DU = 0;
 162   2              // 在段选中输入数字”4“的字形码。
 163   2              /*----------------------------*/
 164   2              WE = 1;
 165   2              P0 = wenumber;
 166   2              WE = 0;
 167   2              // 选中第七个数码管。
 168   2              /*----------------------------*/
 169   2              delay(1);
 170   2              // 延迟1毫秒，第七个数码管的显示流程结束。
 171   2          }
 172   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    236    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
C51 COMPILER V9.60.7.0   MAIN                                                              02/27/2024 23:00:05 PAGE 4   

   PDATA SIZE       =   ----    ----
   DATA SIZE        =      2    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
